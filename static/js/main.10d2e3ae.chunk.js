(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){},18:function(e){e.exports={questions:[{id:1,question:"Ai l\xe0 t\xe1c gi\u1ea3 c\u1ee7a t\xe1c ph\u1ea9m 'Truy\u1ec7n Ki\u1ec1u'?",options:["Nguy\u1ec5n Du","H\u1ed3 Xu\xe2n H\u01b0\u01a1ng","Nguy\u1ec5n Tr\xe3i","Nguy\u1ec5n B\u1ec9nh Khi\xeam"],correctAnswer:0,imageUrl:"https://bcp.cdnchinhphu.vn/Uploaded/buianhtho/2015_11_12/doc-rap-truyen-kieu-gay-sot-tren-mang-01.jpg"},{id:2,question:"T\xe1c ph\u1ea9m 'Ch\xed Ph\xe8o' l\xe0 c\u1ee7a nh\xe0 v\u0103n n\xe0o?",options:["Nam Cao","V\u0169 Tr\u1ecdng Ph\u1ee5ng","Ng\xf4 T\u1ea5t T\u1ed1","Nguy\xean H\u1ed3ng"],correctAnswer:0,imageUrl:"https://bcp.cdnchinhphu.vn/Uploaded/buianhtho/2015_11_12/doc-rap-truyen-kieu-gay-sot-tren-mang-01.jpg"},{id:3,question:"Ai l\xe0 t\xe1c gi\u1ea3 c\u1ee7a b\xe0i th\u01a1 '\u0110\xe2y th\xf4n V\u0129 D\u1ea1'?",options:["H\xe0n M\u1eb7c T\u1eed","Xu\xe2n Di\u1ec7u","Huy C\u1eadn","T\u1ed1 H\u1eefu"],correctAnswer:0,imageUrl:"https://bcp.cdnchinhphu.vn/Uploaded/buianhtho/2015_11_12/doc-rap-truyen-kieu-gay-sot-tren-mang-01.jpg"},{id:4,question:"T\xe1c ph\u1ea9m 'S\u1ed1 \u0111\u1ecf' l\xe0 c\u1ee7a nh\xe0 v\u0103n n\xe0o?",options:["V\u0169 Tr\u1ecdng Ph\u1ee5ng","Nam Cao","Ng\xf4 T\u1ea5t T\u1ed1","Nguy\xean H\u1ed3ng"],correctAnswer:0,imageUrl:"https://upload.wikimedia.org/wikipedia/vi/thumb/5/5c/Vu_Trong_Phung.jpg/220px-Vu_Trong_Phung.jpg"},{id:5,question:"Ai l\xe0 t\xe1c gi\u1ea3 c\u1ee7a b\xe0i th\u01a1 'T\u1eeb \u1ea5y'?",options:["T\u1ed1 H\u1eefu","Xu\xe2n Di\u1ec7u","Huy C\u1eadn","H\xe0n M\u1eb7c T\u1eed"],correctAnswer:0,imageUrl:"https://upload.wikimedia.org/wikipedia/vi/thumb/3/3c/To_Huu.jpg/220px-To_Huu.jpg"},{id:6,question:"T\xe1c ph\u1ea9m 'T\u1eaft \u0111\xe8n' l\xe0 c\u1ee7a nh\xe0 v\u0103n n\xe0o?",options:["Ng\xf4 T\u1ea5t T\u1ed1","Nam Cao","V\u0169 Tr\u1ecdng Ph\u1ee5ng","Nguy\xean H\u1ed3ng"],correctAnswer:0,imageUrl:"https://upload.wikimedia.org/wikipedia/vi/thumb/2/2c/Ngo_Tat_To.jpg/220px-Ngo_Tat_To.jpg"},{id:7,question:"Ai l\xe0 t\xe1c gi\u1ea3 c\u1ee7a b\xe0i th\u01a1 'V\u1ed9i v\xe0ng'?",options:["Xu\xe2n Di\u1ec7u","Huy C\u1eadn","H\xe0n M\u1eb7c T\u1eed","T\u1ed1 H\u1eefu"],correctAnswer:0,imageUrl:"https://upload.wikimedia.org/wikipedia/vi/thumb/4/4c/Xuan_Dieu.jpg/220px-Xuan_Dieu.jpg"},{id:8,question:"T\xe1c ph\u1ea9m 'B\u1ec9 v\u1ecf' l\xe0 c\u1ee7a nh\xe0 v\u0103n n\xe0o?",options:["Nguy\xean H\u1ed3ng","Nam Cao","V\u0169 Tr\u1ecdng Ph\u1ee5ng","Ng\xf4 T\u1ea5t T\u1ed1"],correctAnswer:0,imageUrl:"https://upload.wikimedia.org/wikipedia/vi/thumb/5/5c/Nguyen_Hong.jpg/220px-Nguyen_Hong.jpg"},{id:9,question:"Ai l\xe0 t\xe1c gi\u1ea3 c\u1ee7a b\xe0i th\u01a1 'Tr\xe0ng giang'?",options:["Huy C\u1eadn","Xu\xe2n Di\u1ec7u","H\xe0n M\u1eb7c T\u1eed","T\u1ed1 H\u1eefu"],correctAnswer:0,imageUrl:"https://upload.wikimedia.org/wikipedia/vi/thumb/2/2c/Huy_Can.jpg/220px-Huy_Can.jpg"},{id:10,question:"T\xe1c ph\u1ea9m 'L\xe3o H\u1ea1c' l\xe0 c\u1ee7a nh\xe0 v\u0103n n\xe0o?",options:["Nam Cao","V\u0169 Tr\u1ecdng Ph\u1ee5ng","Ng\xf4 T\u1ea5t T\u1ed1","Nguy\xean H\u1ed3ng"],correctAnswer:0,imageUrl:"https://upload.wikimedia.org/wikipedia/vi/thumb/4/4c/Nam_Cao.jpg/220px-Nam_Cao.jpg"},{id:11,question:"What is the largest mammal in the world?",options:["African Elephant","Blue Whale","Giraffe","Polar Bear"],correctAnswer:"Blue Whale"},{id:12,question:"Who is known as the father of computers?",options:["Bill Gates","Steve Jobs","Charles Babbage","Alan Turing"],correctAnswer:"Charles Babbage"},{id:13,question:"What is the currency of Japan?",options:["Yuan","Won","Yen","Ringgit"],correctAnswer:"Yen"},{id:14,question:"Which planet is closest to the Sun?",options:["Venus","Mercury","Earth","Mars"],correctAnswer:"Mercury"},{id:15,question:"What is the largest bone in the human body?",options:["Femur","Tibia","Humerus","Skull"],correctAnswer:"Femur"},{id:16,question:"Who discovered gravity?",options:["Albert Einstein","Isaac Newton","Galileo Galilei","Nikola Tesla"],correctAnswer:"Isaac Newton"},{id:17,question:"What is the capital of Canada?",options:["Toronto","Vancouver","Ottawa","Montreal"],correctAnswer:"Ottawa"},{id:18,question:"Which animal is known as the 'King of the Jungle'?",options:["Tiger","Lion","Elephant","Gorilla"],correctAnswer:"Lion"},{id:19,question:"What is the largest desert in the world?",options:["Sahara","Gobi","Arabian","Antarctic"],correctAnswer:"Antarctic"},{id:20,question:"Who is the author of 'Harry Potter' series?",options:["J.R.R. Tolkien","J.K. Rowling","George R.R. Martin","Stephen King"],correctAnswer:"J.K. Rowling"}]}},19:function(e,t,a){e.exports=a(29)},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(15),i=a.n(s),o=(a(27),a(9)),c=a(2),l=a(16),u=(a(30),a(7));const m=Object(l.a)({apiKey:"AIzaSyCSHjU7DgtcqFAN067UM1fj4J8h-2hqaUE",authDomain:"quizgame-dd714.firebaseapp.com",databaseURL:"https://quizgame-dd714-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"quizgame-dd714",storageBucket:"quizgame-dd714.firebasestorage.app",messagingSenderId:"164919175813",appId:"1:164919175813:web:caecd6e8d35d3f848ad7ec",measurementId:"G-58CQ6070C8"}),d=Object(u.b)(m);a(10);var p=()=>{const[e,t]=Object(n.useState)(""),[a,s]=Object(n.useState)("player"),[i,o]=Object(n.useState)(""),l=Object(c.p)();return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"login-container fade-in"},r.a.createElement("h1",null,"Quiz Game Login"),i&&r.a.createElement("div",{className:"error-message"},i),r.a.createElement("form",{onSubmit:async t=>{if(t.preventDefault(),e&&a)try{const t=Object(u.d)(d,`users/${e}`);await Object(u.e)(t,{username:e,role:a,score:0,completedQuestions:[],isPlaying:!1}),l("/quiz")}catch(i){console.error("Error logging in:",i),o("\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra. Vui l\xf2ng th\u1eed l\u1ea1i.")}},className:"login-form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{id:"username",type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your username"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"role"},"Role"),r.a.createElement("select",{id:"role",value:a,onChange:e=>s(e.target.value)},r.a.createElement("option",{value:"player"},"Player"),r.a.createElement("option",{value:"admin"},"Admin"))),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Login"))))};a(28);var g=e=>{let{type:t,duration:a=2e3}=e;const[s,i]=Object(n.useState)(!0),[o,c]=Object(n.useState)({x:100*Math.random()-50,y:100*Math.random()-50,rotation:360*Math.random()});if(Object(n.useEffect)(()=>{const e=setTimeout(()=>{i(!1)},a);return()=>clearTimeout(e)},[a]),!s)return null;return r.a.createElement("div",{className:"weather-effect",style:{transform:`translate(${o.x}px, ${o.y}px)`}},"rain"===t?(()=>{const e=[];for(let t=0;t<10;t++)e.push(r.a.createElement("div",{key:t,className:"raindrop",style:{animationDuration:`${.5*Math.random()+.5}s`,transform:`translateX(${100*Math.random()}%) rotate(${30*Math.random()-15}deg)`}}));return r.a.createElement("div",{className:"rain"},e)})():(()=>{const e=[];for(let t=0;t<10;t++)e.push(r.a.createElement("div",{key:t,className:"sun-ray",style:{animationDuration:`${2*Math.random()+2}s`,transform:`rotate(${36*t}deg) translateZ(${20*Math.random()+10}px)`}}));return r.a.createElement("div",{className:"sun"},r.a.createElement("div",{className:"sun-rays",style:{transform:`rotateX(${o.rotation}deg) rotateY(${o.rotation}deg)`}},e,r.a.createElement("div",{className:"sun-core"})))})())},h=a(18);var b=()=>{const[e,t]=Object(n.useState)(0),[a,s]=Object(n.useState)(0),[i,o]=Object(n.useState)(!1),[l,m]=Object(n.useState)(""),[p,b]=Object(n.useState)(null),[E,y]=Object(n.useState)([]),[v,N]=Object(n.useState)(!1),[f,w]=Object(n.useState)(""),[j,T]=Object(n.useState)(null),[O,q]=Object(n.useState)(15),[S,A]=Object(n.useState)(!0),[k,C]=Object(n.useState)("reveal-image"),[H,x]=Object(n.useState)(!1),_=Object(c.p)();Object(n.useEffect)(()=>{const e=sessionStorage.getItem("currentPlayer");if(!e)return void _("/");m(e);const t=Object(u.d)(d,`players/${e}`);Object(u.e)(t,{score:0,completedQuestions:[],currentQuestion:1,isPlaying:!0,timestamp:Date.now(),stories:{}}).catch(e=>{console.error("Error initializing player status:",e)});const a=[...h.questions].sort(()=>Math.random()-.5).slice(0,10);y(a)},[_]),Object(n.useEffect)(()=>{if(S&&O>0&&!v&&!i){const e=setTimeout(()=>{q(O-1)},1e3);return()=>clearTimeout(e)}0===O&&S&&(A(!1),T(E[e].id),N(!0))},[O,S,e,E,v,i]),Object(n.useEffect)(()=>{v||i||(q(15),A(!0))},[e,v,i]),Object(n.useEffect)(()=>{C("reveal-image"),x(!1)},[e]);Object(n.useEffect)(()=>{if(O>0&&!v&&!i){const e=setInterval(()=>{q(e=>{const t=e-1,a=Math.floor(100*(1-t/20));return C(`reveal-image-${Math.min(a,100)}`),a>=100&&x(!0),t})},1e3);return()=>clearInterval(e)}0!==O||v||i||(A(!1),T(E[e].id),N(!0))},[O,v,i]);return l&&0!==E.length?r.a.createElement("div",{className:"container"},p&&r.a.createElement(g,{type:p}),r.a.createElement("div",{className:"quiz-container fade-in"},r.a.createElement("div",{className:"quiz-header"},r.a.createElement("span",null,"Question ",e+1,"/",E.length),r.a.createElement("div",{className:"timer-container"},r.a.createElement("div",{className:"timer-text"},r.a.createElement("span",null,"Time Left: "),r.a.createElement("span",{className:O<=5?"time-warning":""},O,"s")),r.a.createElement("div",{className:"timer-progress"},r.a.createElement("div",{className:`timer-progress-bar ${O<=5?"warning":""}`,style:{width:`${O/15*100}%`}}))),r.a.createElement("span",null,"Score: ",a)),i?r.a.createElement("div",{className:"quiz-score"},r.a.createElement("h2",null,"Quiz Completed!"),r.a.createElement("p",null,"You scored ",a," out of ",E.length),r.a.createElement("div",{className:"quiz-actions"},r.a.createElement("button",{onClick:()=>{t(0),s(0),o(!1),N(!1),q(20),A(!0),_("/quiz")},className:"btn btn-primary"},"Try Again"),r.a.createElement("button",{onClick:()=>{sessionStorage.removeItem("currentPlayer"),_("/")},className:"btn btn-secondary"},"Logout"))):v?r.a.createElement("div",{className:"story-input"},r.a.createElement("h2",null,"Oops! ",0===O?"Time's up!":"That's not correct."),r.a.createElement("p",null,"Please share a short story or experience related to this question:"),r.a.createElement("form",{onSubmit:async a=>{if(a.preventDefault(),!f.trim())return;const n=Object(u.d)(d,`players/${l}`);try{const a=(await Object(u.a)(n)).val()||{},s=a.stories||{};s[j]={story:f.trim(),timestamp:Date.now(),questionId:j},await Object(u.e)(n,{...a,stories:s}),w(""),N(!1),T(null);const i=e+1;i<E.length?t(i):o(!0)}catch(r){console.error("Error saving story:",r)}}},r.a.createElement("textarea",{value:f,onChange:e=>w(e.target.value),placeholder:"Share your story here...",className:"story-textarea",required:!0}),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit Story"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"quiz-question"},r.a.createElement("div",{className:`question-image-container ${H?"reveal-complete":""}`},r.a.createElement("img",{src:E[e].imageUrl,alt:"G\u1ee3i \xfd c\xe2u h\u1ecfi",className:`question-image ${k}`,onError:e=>{e.target.src="https://via.placeholder.com/300x200?text=No+Image"}})),r.a.createElement("h2",{className:"question-text"},E[e].question)),r.a.createElement("div",{className:"quiz-options"},E[e].options.map((n,i)=>r.a.createElement("button",{key:i,onClick:()=>(async n=>{A(!1);const r=n===E[e].correctAnswer,i=r?a+1:a;if(s(i),!r)return T(E[e].id),void N(!0);{const e=Math.random()>.5?"rain":"sun";b(e),setTimeout(()=>b(null),2e3)}const c=e+1,m=Object(u.d)(d,`players/${l}`);try{c<E.length?(await Object(u.e)(m,{score:i,completedQuestions:[...Array(e+1).keys()].map(e=>e+1),currentQuestion:c+1,isPlaying:!0,timestamp:Date.now()}),t(c)):(await Object(u.e)(m,{score:i,completedQuestions:E.map(e=>e.id),currentQuestion:null,isPlaying:!1,timestamp:Date.now()}),o(!0))}catch(p){console.error("Error updating player status:",p)}})(n),className:"option-button"},n)))))):r.a.createElement("div",{className:"container"},"Loading...")};var E=()=>{const[e,t]=Object(n.useState)([]),[a,s]=Object(n.useState)(!0),i=Object(c.p)();Object(n.useEffect)(()=>{const e=Object(u.d)(d,"players"),a=Object(u.c)(e,e=>{try{if(e.exists()){const a=e.val(),n=Object.entries(a).filter(e=>{let[t,a]=e;return null!==a}).map(e=>{let[t,a]=e;return{username:t,...a}});n.sort((e,t)=>(t.score||0)-(e.score||0)),t(n)}else t([])}catch(a){console.error("Error processing player data:",a),t([])}finally{s(!1)}},e=>{console.error("Error fetching players:",e),s(!1),t([])});return()=>a()},[]);return a?r.a.createElement("div",{className:"min-h-screen flex items-center justify-center"},r.a.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"admin-container fade-in"},r.a.createElement("div",{className:"admin-header"},r.a.createElement("h1",null,"Admin Dashboard"),r.a.createElement("button",{onClick:()=>{sessionStorage.removeItem("currentPlayer"),i("/")},className:"btn btn-secondary"},"Logout")),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"admin-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Rank"),r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Current Score"),r.a.createElement("th",null,"Questions Answered"),r.a.createElement("th",null,"Current Question"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Last Updated"))),r.a.createElement("tbody",null,e.map((e,t)=>{var a;return r.a.createElement("tr",{key:e.username},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.username),r.a.createElement("td",null,e.score||0),r.a.createElement("td",null,(null===(a=e.completedQuestions)||void 0===a?void 0:a.length)||0),r.a.createElement("td",null,e.currentQuestion?`Question ${e.currentQuestion}`:"Not started"),r.a.createElement("td",null,e.isPlaying?r.a.createElement("span",{className:"text-success"},"Playing"):r.a.createElement("span",{className:"text-muted"},"Completed")),r.a.createElement("td",null,new Date(e.timestamp).toLocaleString()))}),0===e.length&&r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"7",className:"text-center"},"No players found")))))))};var y=function(){return r.a.createElement(o.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/",element:r.a.createElement(p,null)}),r.a.createElement(c.a,{path:"/quiz",element:r.a.createElement(b,null)}),r.a.createElement(c.a,{path:"/admin",element:r.a.createElement(E,null)}))))};var v=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,31)).then(t=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:s,getTTFB:i}=t;a(e),n(e),r(e),s(e),i(e)})};i.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null))),v()}},[[19,1,2]]]);
//# sourceMappingURL=main.10d2e3ae.chunk.js.map